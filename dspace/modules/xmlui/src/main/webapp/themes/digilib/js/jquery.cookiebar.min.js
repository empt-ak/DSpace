
(function(a){a.cookieBar=function(e,y){if(e=="cookies"){var x="cookies"}else{if(e=="set"){var x="set"}else{var x=false}}var m={message:"We use cookies to track usage and preferences.",acceptButton:true,acceptText:"I Understand",acceptFunction:function(i){if(i!="enabled"&&i!="accepted"){window.location=window.location.href}},declineButton:false,declineText:"Disable Cookies",declineFunction:function(i){if(i=="enabled"||i=="accepted"){window.location=window.location.href}},policyButton:false,policyText:"Privacy Policy",policyURL:"/privacy-policy/",autoEnable:true,acceptOnContinue:false,acceptOnScroll:false,acceptAnyClick:false,expireDays:365,renewOnVisit:false,forceShow:false,effect:"slide",element:"body",append:false,fixed:false,bottom:false,zindex:"",domain:String(window.location.hostname),referrer:String(document.referrer)};var e=a.extend(m,e);var p=new Date();p.setTime(p.getTime()+(e.expireDays*86400000));p=p.toGMTString();var s="cb-enabled={value}; expires="+p+"; path=/";var u,k="",o,r=document.cookie.split("; ");for(u=0;u<r.length;u++){o=r[u].split("=");if(o[0]=="cb-enabled"){k=o[1]}}if(k==""&&x!="cookies"&&e.autoEnable){k="enabled";document.cookie=s.replace("{value}","enabled")}else{if((k=="accepted"||k=="declined")&&x!="cookies"&&e.renewOnVisit){document.cookie=s.replace("{value}",k)}}if(e.acceptOnContinue){if(e.referrer.indexOf(e.domain)>=0&&String(window.location.href).indexOf(e.policyURL)==-1&&x!="cookies"&&x!="set"&&k!="accepted"&&k!="declined"){x="set";y="accepted"}}if(x=="cookies"){if(k=="enabled"||k=="accepted"){return true}else{return false}}else{if(x=="set"&&(y=="accepted"||y=="declined")){document.cookie=s.replace("{value}",y);if(y=="accepted"){return true}else{return false}}else{var n=e.message.replace("{policy_url}",e.policyURL);if(e.acceptButton){var h='<a href="" class="cb-enable">'+e.acceptText+"</a>"}else{var h=""}if(e.declineButton){var v='<a href="" class="cb-disable">'+e.declineText+"</a>"}else{var v=""}if(e.policyButton){var j='<a href="'+e.policyURL+'" class="cb-policy">'+e.policyText+"</a>"}else{var j=""}if(e.fixed){if(e.bottom){var g=' class="fixed bottom"'}else{var g=' class="fixed"'}}else{var g=""}if(e.zindex!=""){var l=' style="z-index:'+e.zindex+';"'}else{var l=""}if(e.forceShow||k=="enabled"||k==""){if(e.append){a(e.element).append('<div id="cookie-bar"'+g+l+"><p>"+n+h+v+j+"</p></div>")}else{a(e.element).prepend('<div id="cookie-bar"'+g+l+"><p>"+n+h+v+j+"</p></div>")}}var w=function(i){if(e.acceptOnScroll){a(document).off("scroll")}if(typeof(i)==="function"){i(k)}if(e.effect=="slide"){a("#cookie-bar").slideUp(300,function(){a("#cookie-bar").remove()})}else{if(e.effect=="fade"){a("#cookie-bar").fadeOut(300,function(){a("#cookie-bar").remove()})}else{a("#cookie-bar").hide(0,function(){a("#cookie-bar").remove()})}}a(document).unbind("click",q)};var t=function(){document.cookie=s.replace("{value}","accepted");w(e.acceptFunction)};var d=function(){var i=new Date();i.setTime(i.getTime()-(864000000));i=i.toGMTString();r=document.cookie.split("; ");for(u=0;u<r.length;u++){o=r[u].split("=");if(o[0].indexOf("_")>=0){document.cookie=o[0]+"=0; expires="+i+"; domain="+e.domain.replace("www","")+"; path=/"}else{document.cookie=o[0]+"=0; expires="+i+"; path=/"}}document.cookie=s.replace("{value}","declined");w(e.declineFunction)};var q=function(i){if(!a(i.target).hasClass("cb-policy")){t()}};a("#cookie-bar .cb-enable").click(function(){t();return false});a("#cookie-bar .cb-disable").click(function(){d();return false});if(e.acceptOnScroll){var c=a(document).scrollTop(),f,b;a(document).on("scroll",function(){f=a(document).scrollTop();if(f>c){b=f-c}else{b=c-f}if(b>=Math.round(e.acceptOnScroll)){t()}})}if(e.acceptAnyClick){a(document).bind("click",q)}}}}})(jQuery);